var FireFlyWallet=function(){"use strict";var r=new Error("not firefly wallet environment");function e(e,o){this._intervalTime=300,this._count=50,this._appname=e,this._appid=o}return e.prototype.ready=function(){var n=this;return new Promise(function(e,o){n._interval=setInterval(function(){window.FFW&&(n.clear(),n.register(),e(window.FFW)),n._count--,n._count<0&&(n.clear(),o(r))},n._intervalTime)})},e.prototype.clear=function(){null!=this._interval&&clearInterval(this._interval),this._interval=void 0},e.prototype.register=function(){window.FFW&&window.FFW.register&&null!=this._appname&&null!=this._appid&&window.FFW.register(this._appname,this._appid)},e.prototype.getOrigin=function(){return window.FFW?Promise.resolve(window.FFW):Promise.reject(r)},Object.defineProperty(e.prototype,"origin",{get:function(){return window.FFW},enumerable:!0,configurable:!0}),e.prototype.getVersion=function(){return window.FFW?Promise.resolve(window.FFW.version):Promise.reject(r)},Object.defineProperty(e.prototype,"version",{get:function(){return window.FFW?window.FFW.version:void 0},enumerable:!0,configurable:!0}),e.prototype.getPlatform=function(){return window.FFW?Promise.resolve(window.FFW.platform):Promise.reject(r)},Object.defineProperty(e.prototype,"platform",{get:function(){return window.FFW?window.FFW.platform:void 0},enumerable:!0,configurable:!0}),e.prototype.getAccountID=function(){return window.FFW?Promise.resolve(window.FFW.address):Promise.reject(r)},Object.defineProperty(e.prototype,"accountID",{get:function(){return window.FFW?window.FFW.address:void 0},enumerable:!0,configurable:!0}),e.prototype.getUUID=function(){return window.FFW?Promise.resolve(window.FFW.uuid):Promise.reject(r)},Object.defineProperty(e.prototype,"UUID",{get:function(){return window.FFW?window.FFW.uuid:void 0},enumerable:!0,configurable:!0}),e.prototype.getLocale=function(){return window.FFW?Promise.resolve(window.FFW.locale):Promise.reject(r)},Object.defineProperty(e.prototype,"locale",{get:function(){return window.FFW?window.FFW.locale:void 0},enumerable:!0,configurable:!0}),e.prototype.getAccountName=function(){return window.FFW?Promise.resolve(window.FFW.accountName):Promise.reject(r)},Object.defineProperty(e.prototype,"accountName",{get:function(){return window.FFW?window.FFW.accountName:void 0},enumerable:!0,configurable:!0}),e.prototype.getHorizonUrl=function(){return window.FFW?Promise.resolve(window.FFW.horizonUrl):Promise.reject(r)},Object.defineProperty(e.prototype,"horizonUrl",{get:function(){return window.FFW?window.FFW.horizonUrl:void 0},enumerable:!0,configurable:!0}),e.prototype.getNetwork=function(){return window.FFW?Promise.resolve(window.FFW.network):Promise.reject(r)},Object.defineProperty(e.prototype,"network",{get:function(){return window.FFW?window.FFW.network:void 0},enumerable:!0,configurable:!0}),e.prototype.getBalances=function(){return window.FFW?new Promise(function(o,n){window.FFW.balances(function(e){"success"===e.code?o(e.data):n(e.message)})}):Promise.reject(r)},e.prototype.sign=function(e){return window.FFW?new Promise(function(o,n){window.FFW.sign(JSON.stringify(e),function(e){"success"===e.code?o(e.data):n(e.message)})}):Promise.reject(r)},e.prototype.pay=function(e){return window.FFW?new Promise(function(o,n){window.FFW.pay(e,function(e){"success"===e.code?o(e.data):n(e.message)})}):Promise.reject(r)},e.prototype.pathPayment=function(e){return window.FFW?new Promise(function(o,n){window.FFW.pathPayment(e,function(e){"success"===e.code?o(e.data):n(e.message)})}):Promise.reject(r)},e.prototype.trust=function(e,t){return window.FFW?new Promise(function(o,n){window.FFW.trust(e,t,function(e){"success"===e.code?o(e.data):n(e.message)})}):Promise.reject(r)},e.prototype.signXDR=function(e,t){return window.FFW?new Promise(function(o,n){window.FFW.signXDR(e,t,function(e){"success"===e.code?o(e.data):n(e.message)})}):Promise.reject(r)},e.prototype.scan=function(){return window.FFW?new Promise(function(o,n){window.FFW.scan(function(e){"success"===e.code?o(e.data):n(e.message)})}):Promise.reject(r)},e.prototype.share=function(e){return window.FFW?new Promise(function(o,n){window.FFW.share(e,function(e){"success"===e.code?o(e.data):n(e.message)})}):Promise.reject(r)},e.prototype.request=function(e){return null==window.FFW?Promise.reject(r):new Promise(function(o,n){window.FFW.request(e,function(e){200==e.statusCode?o(e):n(e)})})},e.prototype.toast=function(e){if(null==window.FFW)throw new Error("not init");window.FFW.toast(e)},e.prototype.openDApp=function(e){if(null==window.FFW)throw new Error("not init");window.FFW.openDApp(e)},e.prototype.initWindow=function(e){if(null==window.FFW)throw new Error("not init");window.FFW.initWindow(e)},e}();
