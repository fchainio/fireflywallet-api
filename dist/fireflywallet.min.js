var FireFlyWallet=function(e){"use strict";var i=new Error("not firefly wallet environment"),n=function(){function e(e,n){this._intervalTime=300,this._count=50,this._appname=e,this._appid=n}return e.prototype.ready=function(){var o=this;return new Promise(function(e,n){o._interval=setInterval(function(){window.FFW&&(o.clear(),o.register(),e(window.FFW)),o._count--,o._count<0&&(o.clear(),n(i))},o._intervalTime)})},e.prototype.clear=function(){null!=this._interval&&clearInterval(this._interval),this._interval=void 0},e.prototype.register=function(){window.FFW&&window.FFW.register&&null!=this._appname&&null!=this._appid&&window.FFW.register(this._appname,this._appid)},e.prototype.getVersion=function(){return window.FFW?Promise.resolve(window.FFW.version):Promise.reject(i)},Object.defineProperty(e.prototype,"version",{get:function(){return window.FFW?window.FFW.version:void 0},enumerable:!0,configurable:!0}),e.prototype.getPlatform=function(){return window.FFW?Promise.resolve(window.FFW.platform):Promise.reject(i)},Object.defineProperty(e.prototype,"platform",{get:function(){return window.FFW?window.FFW.platform:void 0},enumerable:!0,configurable:!0}),e.prototype.getAccountId=function(){return window.FFW?Promise.resolve(window.FFW.address):Promise.reject(i)},Object.defineProperty(e.prototype,"accountId",{get:function(){return window.FFW?window.FFW.address:void 0},enumerable:!0,configurable:!0}),e.prototype.getUuid=function(){return window.FFW?Promise.resolve(window.FFW.uuid):Promise.reject(i)},Object.defineProperty(e.prototype,"uuid",{get:function(){return window.FFW?window.FFW.uuid:void 0},enumerable:!0,configurable:!0}),e.prototype.getLocale=function(){return window.FFW?Promise.resolve(window.FFW.locale):Promise.reject(i)},Object.defineProperty(e.prototype,"locale",{get:function(){return window.FFW?window.FFW.locale:void 0},enumerable:!0,configurable:!0}),e.prototype.getBalances=function(){return window.FFW?new Promise(function(n,o){window.FFW.balances(function(e){"success"===e.code?n(e.data):o(e.message)})}):Promise.reject(i)},e.prototype.sign=function(e){return window.FFW?new Promise(function(n,o){window.FFW.sign(JSON.stringify(e),function(e){"success"===e.code?n(e.data):o(e.message)})}):Promise.reject(i)},e.prototype.pay=function(e){return window.FFW?new Promise(function(n,o){window.FFW.pay(e,function(e){"success"===e.code?n(e.data):o(e.message)})}):Promise.reject(i)},e.prototype.pathPayment=function(e){return window.FFW?new Promise(function(n,o){window.FFW.pathPayment(e,function(e){"success"===e.code?n(e.data):o(e.message)})}):Promise.reject(i)},e.prototype.trust=function(e,t){return window.FFW?new Promise(function(n,o){window.FFW.trust(e,t,function(e){"success"===e.code?n(e.data):o(e.message)})}):Promise.reject(i)},e.prototype.signXDR=function(e,t){return window.FFW?new Promise(function(n,o){window.FFW.signXDR(e,t,function(e){"success"===e.code?n(e.data):o(e.message)})}):Promise.reject(i)},e.prototype.scan=function(){return window.FFW?new Promise(function(n,o){window.FFW.scan(function(e){"success"===e.code?n(e.data):o(e.message)})}):Promise.reject(i)},e.prototype.share=function(e){return window.FFW?new Promise(function(n,o){window.FFW.share(e,function(e){"success"===e.code?n(e.data):o(e.message)})}):Promise.reject(i)},e.prototype.request=function(e){return null==window.FFW?Promise.reject(i):new Promise(function(n,o){window.FFW.request(e,function(e){200==e.statusCode?n(e):o(e)})})},e.prototype.toast=function(e){if(null==window.FFW)throw new Error("not init");window.FFW.toast(e)},e.prototype.openDApp=function(e){if(null==window.FFW)throw new Error("not init");window.FFW.openDApp(e)},e.prototype.initWindow=function(e){if(null==window.FFW)throw new Error("not init");window.FFW.initWindow(e)},e}();return e.FireFlyWallet=n,e}({});
